* Emacs engine unified diff applier (design)

Goal:
- Provide a pure-Emacs fallback engine capable of applying single-file unified diffs (udiff) without git.
- Preserve v1 constraints: one file per block, forbid rename/copy/binary, enforce :strip against a/b prefixes.

Scope (v1):
- Text files only; single-file patches; a/b headers required; enforce :strip=1 for a/b.
- Create/delete/modify supported.
- No index or commit staging; pure FS changes.

Algorithm:
1) Parse headers/strip/path (reuse carriage-parse-diff to normalize plan item).
2) Read original file content (or empty for create, ensure existence for delete).
3) Apply hunks:
   - Parse @@ -L,N +L',M headers.
   - Verify context lines (-/+) and handle CRLF tolerance.
   - Reject fuzz (v1 exact context only).
4) Validate final result (optional checksum of line counts).
5) Write file:
   - For delete: remove file.
   - For create/modify: create parent dirs; ensure final newline policy consistent with ops layer.
6) Return report with :status ('ok/'fail), :changed-bytes, and details.

Edge cases:
- Missing file for modify: fail.
- Trailing newline semantics: treat text as line-based; respect final newline in hunks.
- Binary guards: immediate fail on "GIT binary patch" or "Binary files differ" prefaces.

Testing:
- Mirror existing git-engine tests with in-memory repos replaced by temp dirs.
- Negative tests: multi-file, rename/copy prefaces, strip mismatch, binary.

Migration plan:
- v1: keep emacs engine rejecting 'patch (MODE_E_DISPATCH) until applier is implemented and covered by tests.
- v1.1+: flip capability flag and route patch to emacs engine when selected.
